
<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
        <meta name="google-signin-client_id" content="777718038660-ob329re48n6vapuo4ebah4ssq5gdqrvn.apps.googleusercontent.com">
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAB7Zfk1cIw5ejq6x8Kol3qwNCv7R0NTJg&libraries=places"></script>
        <script type="text/javascript">
        function initialize() {
          var address = (document.getElementById('pickup-address'));
          var autocomplete = new google.maps.places.Autocomplete(address);
          autocomplete.setTypes(['geocode']);
          google.maps.event.addListener(autocomplete, 'place_changed', function() {
            var place = autocomplete.getPlace();
            if (!place.geometry) {
                return;
            }

            var address = '';
            if (place.address_components) {
              address = [
                (place.address_components[0] && place.address_components[0].short_name || ''),
                (place.address_components[1] && place.address_components[1].short_name || ''),
                (place.address_components[2] && place.address_components[2].short_name || '')
                ].join(' ');
            }
          });
        }
        function initialize2() {
          var address = (document.getElementById('destination'));
          var autocomplete = new google.maps.places.Autocomplete(address);
          autocomplete.setTypes(['geocode']);
          google.maps.event.addListener(autocomplete, 'place_changed', function() {
            var place = autocomplete.getPlace();
            if (!place.geometry) {
                return;
            }

            var address = '';
            if (place.address_components) {
              address = [
                (place.address_components[0] && place.address_components[0].short_name || ''),
                (place.address_components[1] && place.address_components[1].short_name || ''),
                (place.address_components[2] && place.address_components[2].short_name || '')
                ].join(' ');
            }
          });
        }
        function codeAddress() {
          geocoder = new google.maps.Geocoder();
          var address = document.getElementById("pickup-address").value;
          geocoder.geocode( { 'address': address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
              //alert("Latitude: "+results[0].geometry.location.lat());
              //alert("Longitude: "+results[0].geometry.location.lng());
              var picklat = results[0].geometry.location.lat();
              var picklng = results[0].geometry.location.lng();
            }else {
              alert("Geocode was not successful for the following reason: " + status);
            }
          });
        }
        function codeAddress2() {
          geocoder = new google.maps.Geocoder();
          var address = document.getElementById("destination").value;
          geocoder.geocode( { 'address': address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
              //alert("Latitude: "+results[0].geometry.location.lat());
              //alert("Longitude: "+results[0].geometry.location.lng());
              var destlat = results[0].geometry.location.lat();
              var destlng = results[0].geometry.location.lng();
              alert("Latitude--: "+destlat);
              alert("Latitude--: "+destlng);
            }else {
              alert("Geocode was not successful for the following reason: " + status);
            }
          });
        }
        google.maps.event.addDomListener(window, 'load', initialize);
        google.maps.event.addDomListener(window, 'load', initialize2);
        </script>
    </head>
<body>
  <div class="container">
    <header>
        <a href="https://riders.uber.com/">
          {{ profile.first_name }} {{ profile.last_name }}'s Dashboard
        </a>

        <p><input type="text" style="width: 300px;" id="pickup-address"></p>
        <p><input type="text" style="width: 300px;" id="destination"></p>
        <a href="{% url 'schedule' %}"><button id="cancel_request" >Cancel</button></a>
        <a href="{% url 'request_uber' %}"><button id="requestUber" onClick="codeAddress();codeAddress2();">Request a Uber</button></a>

    </header>
  </div>
  
</body>
</html>
